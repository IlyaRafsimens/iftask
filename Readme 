Давайте объясним, что делает каждая часть Makefile:

Первый раздел определяет компилятор C++ и флаги.
Второй раздел определяет библиотеку Google Test и флаги.
Третий раздел определяет исходные файлы, объектные файлы, тестовые файлы и тестовые объектные файлы.
Четвертый раздел определяет имя исполняемого файла и имя исполняемого файла для тестов.
Пятый раздел определяет правила компиляции для исходных файлов и тестовых файлов.
Шестой раздел определяет правила связывания для исполняемого файла и исполняемого файла для тестов.
Седьмой раздел определяет правило для запуска тестов.
Восьмой раздел определяет правило для очистки, которое удаляет все объектные файлы, исполняемые файлы и тестовые исполняемые файлы.
Чтобы использовать этот Makefile, просто сохраните его в файл с именем Makefile в корневом каталоге вашего проекта, и затем запустите make, чтобы скомпилировать и связать ваш код. Вы также можете запустить make test, чтобы запустить ваши тесты.

Примечание: это только простой пример, и вам может потребоваться изменить Makefile, чтобы он соответствовал вашим конкретным потребностям. Например, вам может потребоваться добавить дополнительные флаги компилятора или библиотеки или изменить правила компиляции и связывания.